---
title: "[docker] AWSì— EC2ì™€ RDS ìƒì„±í•˜ê¸°"
excerpt: "AWSì— EC2ì™€ RDS ìƒì„±í•˜ê¸°"

categories:
  - tools
tags:
  - [aws]

permalink: /tools/aws_started_1/

toc: true
toc_sticky: true

date: 2022-06-29
last_modified_at: 2022-06-29
---

## ðŸ¦¥ AWS ê°€ìž…í•˜ê¸°

  - AWSëŠ” ì´ë©”ì¼ ë‹¨ìœ„ë¡œ ê°€ìž…í•  ìˆ˜ ìžˆë‹¤. ì˜ˆì „ì— ê°€ìž…í–ˆë‹¤ê°€ ê³„ì •ì¤‘ì§€ê°€ ë˜ì—ˆëŠ”ë°, ê·¸ ë©”ì¼ ê³„ì •ì€ ë”ì´ìƒ ì‚¬ìš©í• ìˆ˜ ì—†ì—ˆë‹¤. 
  - AWSê°€ìž…ì‹œ í•´ì™¸ê²°ì œê°€ ê°€ëŠ¥í•œ ì‹ ìš©ì¹´ë“œê°€ í•„ìš”í•˜ë‹¤. ê°€ìž… ë°©ë²•ì€ êµ¬ê¸€ë§ í†µí•´ ì‰½ê²Œ í•™ì¸ ê°€ëŠ¥í•˜ì—¬ ìƒëžµ~

## AWS EC2 í”„ë¦¬íŽ˜ì–´ ì‚¬ìš©í•´ë³´ê¸°

![image1](/assets/images/page10/img1.PNG)

ìœ„ í™”ë©´ì—ì„œ EC2ë¥¼ í´ë¦­í•œë‹¤. 

![image1](/assets/images/page10/img2.PNG)

 - ë¦¬ì†ŒìŠ¤ í˜„í™©ì„ ë³´ë©´ ì¸ìŠ¤í„´ìŠ¤(ì‹¤í–‰ì¤‘)ì´ 0ê°œì´ê³ , ì¸ìŠ¤í„´ìŠ¤ê°€ 1ê°œë¡œ ë˜ì–´ ìžˆë‹¤. ì´ ìƒíƒœì—ì„œ ì¸ìŠ¤í„´ìŠ¤ 1ê°œë¥¼ ë” ë§Œë“¤ì–´ë³´ìž. `ë¦¬ì†ŒìŠ¤` ì•„ëž˜ì— `ì¸ìŠ¤í„´ìŠ¤ ì‹œìž‘` ë©”ë‰´ê°€ ìžˆë‹¤. ì£¼í™©ìƒ‰ ë²„íŠ¼ìœ¼ë¡œ ëœ ë²„íŠ¼ì„ í´ë¦­í•œë‹¤.

 - ì¸ìŠ¤í„´ìŠ¤ ì´ë¦„ì„ ìž…ë ¥í•œë‹¤. 

![image1](/assets/images/page10/img3.PNG)

> OS ì´ë¯¸ì§€ë¥¼ ì„ íƒí•œë‹¤. Amazon Linux ë¥¼ ì„ íƒí•œë‹¤. 

- ì•„ë§ˆì¡´ ë¦¬ëˆ…ìŠ¤ë¥¼ ì„ íƒí•˜ëŠ” ì´ìœ :
  1. ì•„ë§ˆì¡´ì—ì„œ ê°œë°œí•˜ê³  ìžˆê¸° ë•Œë¬¸ì— ì§€ì›ë°›ê¸° ì‰½ë‹¤.
  2. ë ˆë“œí–‡ ë² ì´ìŠ¤ë¼ ìµìˆ™í•˜ë‹¤. 
  3. AWS ê°ì¢… ì„œë¹„ìŠ¤ì™€ í˜¸í™˜ì´ ì¢‹ë‹¤.
  4. Amazon ë…ìžì ì¸ ê°œë°œ ë ˆíŒŒì§€í† ë¦¬ë¥¼ ì‚¬ìš©í•˜ê³  ìžˆì–´ yumì´ ë¹ ë¥´ë‹¤. 

![image1](/assets/images/page10/img4.PNG)  

> í‚¤ íŒ¨ì–´ ìƒì„±

 - ì¸ìŠ¤í„´ìŠ¤ë¡œ ì ‘ê·¼í•˜ê¸° ìœ„í•´ì„œëŠ” pemí‚¤(ë¹„ë°€í‚¤)ê°€ í•„ìš”í•˜ë‹¤. ì¸ìŠ¤í„´ìŠ¤ëŠ” pemí‚¤ì™€ ë§¤ì¹­ë˜ëŠ” ê³µê°œí‚¤ë¥¼ ê°€ì§€ê³  ìžˆì–´, í•´ë‹¹ pemí‚¤ ì™¸ì—ëŠ” ì ‘ê·¼ì„ í—ˆìš©í•˜ì§€ ì•ŠëŠ”ë‹¤. pem í‚¤ëŠ” ë¶„ì‹¤ë˜ì§€ ì•Šë„ë¡ ê´€ë¦¬ë¥¼ ì² ì €ížˆ í•´ì•¼ í•œë‹¤. 

![image1](/assets/images/page10/img5.png)
![image1](/assets/images/page10/img6.png)

> ë„¤íŠ¸ì›Œí¬ ì„¤ì •

- ë³´ì•ˆê·¸ë£¹ì€ ì¤‘ìš”í•œ ì„¤ì •ì´ë‹¤. SSHíŠ¸ëž˜í”½ í—ˆìš©ì— `ë‚´IP` ë¥¼ ì„ íƒí•œë‹¤. ì§€ì •ëœ IPì—ì„œë§Œ SSHì ‘ì†ì´ ê°€ëŠ¥í•˜ë„ë¡ í•˜ëŠ” ê²ƒì´ ì•ˆì „í•˜ë‹¤.  

![image1](/assets/images/page10/img7.png)

> ìŠ¤í† ë¦¬ì§€ ì„¤ì •

- 30GBë¡œ ì„¤ì •í•œë‹¤. 

![image1](/assets/images/page10/img8.png)

> ì¸ìŠ¤í„´ìŠ¤ ì‹œìž‘

![image1](/assets/images/page10/img9.png)

> Xshell ì„ ì´ìš©í•´ ì„œë²„ í„°ë¯¸ë„ ì ‘ì†

- ì¸ìŠ¤í„´ìŠ¤ë¥¼ ì‹œìž‘í• ë•Œë§ˆë‹¤, í¼ë¸”ë¦­IP4v ì£¼ì†Œì— IPê°€ ë³€ê²½ëœë‹¤. 
- Xshell ë“±ë¡ ì •ë³´ë¥¼ ë§¤ë²ˆ ë³€ê²½í•´ì£¼ì–´ì•¼ í•œë‹¤. íƒ„ë ¥ì IPë¥¼ ì‚¬ìš©í•´ ê³ ì • IPë¥¼ ì‚¬ìš©í•  ìˆ˜ ìžˆìœ¼ë‚˜, ë¹„ìš©ì´ ë°œìƒí•œë‹¤. 

![image1](/assets/images/page10/img10.png)
![image1](/assets/images/page10/img15.png)

> pem í‚¤ ë“±ë¡

 - Xshell ì— pem í‚¤ë¥¼ ë“±ë¡í•œë‹¤. ì‚¬ìš©ìž ì¸ì¦ ë©”ë‰´ì´ ë“¤ì–´ê°€, ì‚¬ìš©ìž ì´ë¦„ì„ ìž…ë ¥í•œë‹¤. ì‚¬ìš©ìž ì´ë¦„ì€ `ec2-user`ì´ë‹¤. 
 - ì•„ëž˜ ê·¸ë¦¼ê³¼ ê°™ì´ ì§„í–‰í•œë‹¤. 

![image1](/assets/images/page10/img11.png)
![image1](/assets/images/page10/img12.png)
![image1](/assets/images/page10/img13.png)
![image1](/assets/images/page10/img14.png)

 - ì—°ê²° ë²„íŠ¼ì„ ëˆ„ë¥¸ë‹¤. 

## ê¸°ë³¸ ì„¤ì •

> ìžë°” ì„¤ì¹˜

 `sudo yum install -y java-1.8.0-openjdk-devel.x86_64`

> íƒ€ìž„ì¡´ ë³€ê²½

- `date` ëª…ë ¹ì–´ë¥¼ ìž…ë ¥í•´ë³´ë©´, ë¯¸êµ­ ì‹œê°„ì— ë§žì¶°ì¤˜ ìžˆëŠ” ê²ƒì´ ë³´ì¸ë‹¤. 

- ë‹¤ìŒ ëª…ë ¹ì–´ë¥¼ ìˆ˜í–‰í•œë‹¤. 
  1. `sudo rm /etc/localtime`
  2. `sudo ln -s /usr/share/zoneinfo/Asia/Seoul /etc/localtime`

## RDS ìƒì„±í•˜ê¸°

- rds ë¡œ ê²€ìƒ‰í•˜ê³  í´ë¦­í•œë‹¤. ë°ì´í„°ë² ì´ìŠ¤ ìƒì„± ë²„íŠ¼ì„ í´ë¦­í•œë‹¤. 

![image1](/assets/images/page10/img16.png)
![image1](/assets/images/page10/img17.png)

 - Maria DB ë¥¼ ì„ íƒí•œë‹¤. 

![image1](/assets/images/page10/img18.png)

- í”„ë¦¬í‹°ì–´ë¥¼ ì„ íƒí•˜ê³ , ì„¤ì •ì •ë³´ë¥¼ ìž…ë ¥í•œë‹¤. 
![image1](/assets/images/page10/img19.png)
![image1](/assets/images/page10/img20.png)
![image1](/assets/images/page10/img21.png)
![image1](/assets/images/page10/img22.png)

- í¼ë¸”ë¦­ ì—‘ì„¸ìŠ¤ë¥¼ Yë¡œ ì„ íƒí•œë‹¤. 

![image1](/assets/images/page10/img23.png)

- ë°ì´í„° ë² ì´ìŠ¤ ìƒì„±ë²„íŠ¼ì„ í´ë¦­í•œë‹¤. ì•½ 5ë¶„ ì´ìƒ ì†Œìš”ëœë‹¤. 
![image1](/assets/images/page10/img24.png)


- RDSì˜ ëª‡ ê°€ì§€ ì„¤ì • ì§„í–‰ì„ ìœ„í•´, íŒŒë¼ë¯¸í„° ê·¸ë£¹ì„ ì„ íƒí•œë‹¤. 
![image1](/assets/images/page10/img25.png)

- íŒŒë¼ë¯¸í„° ê·¸ë£¹ ìƒì„±ì„ í´ë¦­í•œë‹¤. 
![image1](/assets/images/page10/img26.png)

- ì„¤ì¹˜ëœ MariaDB ì™€ ë™ì¼í•œ ë²„ì „ì„ ì„ íƒí•˜ê³ , DB íŒŒë¼ë¯¸í„° ê·¸ë£¹ ì´ë¦„ì„ ìž…ë ¥í•œë‹¤. ë‚œ DB ì¸ìŠ¤í„´ìŠ¤ ì‹ë³„ìžì™€ ë™ì¼í•˜ê²Œ ë„£ì–´ì¤¬ë‹¤. 
![image1](/assets/images/page10/img27.png)

- ìƒì„±í•œ íŒŒë¼ë¯¸í„°ë¥¼ í´ë¦­í•˜ê³ , íŒŒë¼ë¯¸í„° íŽ¸ì§‘ì„ í´ë¦­í•œë‹¤. 
![image1](/assets/images/page10/img28.png)
![image1](/assets/images/page10/img29.png)

- ë¨¼ì € íŒŒë¼ë¯¸í„° ê²€ìƒ‰ì„ í†µí•´ `time_zone`ì„ ì°¾ëŠ”ë‹¤. ì•„ëž˜ì™€ ê°™ì´ `Asia/seoul`ì„ ì„ íƒí•œë‹¤.
![image1](/assets/images/page10/img30.png)

- íŒŒë¼ë¯¸í„° ê²€ìƒ‰ì— `character_set`ì„ ì°¾ì•„ì„œ `utf8mb4` ë¥¼ ì„ íƒí•œë‹¤. utf8mb4 ëŠ” ì´ëª¨ì§€ê°€ ê°€ëŠ¥í•˜ë‹¤ê³  í•œë‹¤. 
- `collation` ì„ ê²€ìƒ‰í•´ì„œ ë‚˜ì˜¤ëŠ” ê²ƒì€ `utf8mb4_generel_ci` ë¥¼ ì„ íƒí•˜ì˜€ë‹¤. (utf8mb4 í•­ëª©ì´ ì—†ì–´, ë­”ê°€ ì¼ë°˜ì ì¸ ëŠë‚Œì´ ë‚˜ëŠ” ê±¸ë¡œ ì„ íƒí–ˆë‹¤.)
![image1](/assets/images/page10/img31.png)
![image1](/assets/images/page10/img32.png)

- `max_connection` ì€ 150ìœ¼ë¡œ ì„¤ì •í•œë‹¤.
![image1](/assets/images/page10/img33.png)

- íŒŒë¼ë¯¸í„° ê·¸ë£¹ì„ ìˆ˜ì •í•˜ê¸° ìœ„í•´ ì•„ëž˜ì™€ ê°™ì´ í•œë‹¤. 
![image1](/assets/images/page10/img34.png)
![image1](/assets/images/page10/img35.png)

- DB íŒŒë¼ë¯¸í„° ê·¸ë£¹ì— ìƒˆë¡œ ë§Œë“  íŒŒë¼ë¯¸í„° ê·¸ë£¹ì„ ì„ íƒí•œë‹¤. 
![image1](/assets/images/page10/img36.png)

- ìˆ˜ì •ì‚¬í•­ì„ ì¦‰ì‹œì ìš©ìœ¼ë¡œ ì„ íƒí•˜ê³ , ìˆ˜ì •í•œë‹¤. ë§Œì•½ ìš´ì˜ì¤‘ì¸ ì„œë¹„ìŠ¤ë¼ë©´, ìƒˆë²½ì‹œê°„ëŒ€ë¡œë°˜ì˜í•  ìˆ˜ ìžˆê²Œ ì˜ˆì•½ë°˜ì˜ì„ ì„ íƒí•˜ë©´ ëœë‹¤.
![image1](/assets/images/page10/img37.png)

- ë³´ì•ˆê·¸ë£¹ì˜ ì¸ë°”ìš´ë“œ ê·œì¹™ì„ ì„¤ì •í•œë‹¤. 
- ë‚´ PCì™€ EC2 ì„œë²„ì—ì„œ ì ‘ê·¼í•  ìˆ˜ ìžˆë˜ë¡ ì¸ë°”ìš´ë“œ ê·œì¹™ì„ 2ê°œ ì„¤ì •í•œë‹¤. 
- ì†ŒìŠ¤ì— EC2 ì„œë²„ì˜ ë³´ì•ˆê·¸ë£¹ IDë¥¼ ìž…ë ¥í•˜ë©´ ëœë‹¤. 

![image1](/assets/images/page10/img38.png)
![image1](/assets/images/page10/img39.png)

- HeidiSQL ì„ í†µí•´ DBì— ì ‘ì†í•´ë³´ìž. 
- ì—°ê²°/ë³´ì•ˆì—ì„œ ì—”ë“œí¬ì¸íŠ¸ë¥¼ ë³µì‚¬ í•œí›„, HeidiSQL ì ‘ì† ì •ë³´ì— ìž…ë ¥í•œë‹¤. 
- ì²˜ìŒ ì¸ìŠ¤í„´ìŠ¤ êµ¬ì„±ì‹œ ìƒì„±í•œ database ëª…ê³¼ id, pwd ë¥¼ ìž…ë ¥í•œ í›„ ì—°ê²°í•œë‹¤. 

![image1](/assets/images/page10/img40.png)
![image1](/assets/images/page10/img41.png)

- AWSì—ì„œ íŒŒë¼ë¯¸í„° ê·¸ë£¹ ì„¤ì •ì´ ì œëŒ€ë¡œ ì ìš©ë˜ì—ˆëŠ”ì§€ í™•ì¸í•´ë³¸ë‹¤. ì¼ë¶€ ëª‡ê°œëŠ” ì ìš©ì´ ì œëŒ€ë¡œ ì•ˆë˜ì—ˆë‹¤. 
- ì§ì ‘ ìˆ˜ì •í•œë‹¤!
![image1](/assets/images/page10/img42.png)

- EC2 ì— ì ‘ì†í•˜ì—¬ DB ì ‘ì†ì„ í•´ë³¸ë‹¤. 

`sodu yum install mysql`

`mysql -u ê³„ì • -p -h Host ì£¼ì†Œ`

## ê³¼ê¸ˆ

 - AWS ì‚¬ìš©ì¤‘ ì–¼ë§ˆ ë˜ì§€ ì•Šì•„, ê³¼ê¸ˆì´ ëœ ê²ƒì„ í™•ì¸í•˜ì˜€ë‹¤. 

![image1](/assets/images/page10/img45.png) 

 - êµ¬ê¸€ë§ í•´ë³´ë‹ˆ, EC2 ì¸ìŠ¤í„´ìŠ¤ë¥¼ 2ê°œ ì´ìƒ ë§Œë“¤ì–´ì„œ ê·¸ëž¬ë˜ ê²ƒ. ì¸ìŠ¤í„´ìŠ¤ ë³„ë¡œ ê¸°ë³¸ ìŠ¤í† ë¦¬ì§€ê°€ í• ë‹¹ì´ ë˜ëŠ”ë°, ì‚¬ìš©ì„ í•˜ë“  ì•ˆí•˜ë“  ë¹„ìš©ì´ ì²­êµ¬ë˜ëŠ” ë°©ì‹ì¸ê²ƒìœ¼ë¡œ ë³´ì¸ë‹¤.

# Reference

> - 
